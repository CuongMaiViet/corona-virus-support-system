(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{140:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(34),r=c.n(s),i=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,144)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))},o=(c(48),c(39),c(3)),l=c.n(o),d=c(5),j=c(2),u=c(7),b=c.n(u);function h(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],s=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("http://localhost:3000/district");case 3:t=e.sent,n(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),{district:[c,n]}}var p=function(e){var t=Object(a.useState)(!1),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],u=i[1],h=Object(a.useState)(!1),p=Object(j.a)(h,2),O=p[0],m=p[1],f=Object(a.useState)([]),x=Object(j.a)(f,2),v=x[0],g=x[1],y=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:3000/user/info",{headers:{Authorization:e}});case 2:c=t.sent,g(c.data),1===c.data.role&&s(!0),0===c.data.role&&u(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){e&&y()}),[e,O]),{info:[v,g],callback:[O,m],admin:[n,s],patient:[o,u]}};var O=function(e){var t=Object(a.useState)(!1),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],u=i[1],h=Object(a.useState)([]),p=Object(j.a)(h,2),O=p[0],m=p[1],f=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:3000/doctor/info",{headers:{Authorization:e}});case 2:c=t.sent,m(c.data),s(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){e&&f()}),[e,o]),{doctorInfo:[O,m],callbackDoctor:[o,u],doctor:[n,s]}};function m(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),i=Object(j.a)(r,2),o=i[0],u=i[1],h=Object(a.useState)(""),p=Object(j.a)(h,2),O=p[0],m=p[1],f=Object(a.useState)(1),x=Object(j.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(1),N=Object(j.a)(y,2),k=N[0],w=N[1],C=Object(a.useState)(""),D=Object(j.a)(C,2),S=D[0],P=D[1],_=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:3000/user?limit=".concat(5*v,"&name[regex]=").concat(o,"&").concat(O,"&page=").concat(k,"&").concat(S));case 2:t=e.sent,s(t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){_()}),[o,O,v,k,S]),{patients:[n,s],search:[o,u],sort:[O,m],limit:[v,g],page:[k,w],filter:[S,P]}}function f(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),i=Object(j.a)(r,2),o=i[0],u=i[1],h=Object(a.useState)(""),p=Object(j.a)(h,2),O=p[0],m=p[1],f=Object(a.useState)(1),x=Object(j.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(1),N=Object(j.a)(y,2),k=N[0],w=N[1],C=Object(a.useState)(""),D=Object(j.a)(C,2),S=D[0],P=D[1],_=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:3000/doctor?limit=".concat(5*v,"&name[regex]=").concat(o,"&").concat(O,"&page=").concat(k,"&").concat(S));case 2:t=e.sent,s(t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){_()}),[o,O,v,k,S]),{doctors:[n,s],search:[o,u],sort:[O,m],limit:[v,g],page:[k,w],filter:[S,P]}}function x(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],u=i[1],h=Object(a.useState)("status"),p=Object(j.a)(h,2),O=p[0],m=p[1],f=Object(a.useState)("false"),x=Object(j.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(1),N=Object(j.a)(y,2),k=N[0],w=N[1],C=Object(a.useState)(1),D=Object(j.a)(C,2),S=D[0],P=D[1],_=Object(a.useState)(0),A=Object(j.a)(_,2),I=A[0],F=A[1],E=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:3000/health/doctor?limit=".concat(5*k,"&").concat(O,"=").concat(v,"&page=").concat(S),{headers:{Authorization:e}});case 2:c=t.sent,s(c.data.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:3000/health/doctor?limit=999999",{headers:{Authorization:e}});case 2:c=t.sent,F(c.data.data.length);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){e&&(E(),T())}),[e,o,O,v,S,k]),{healths:[n,s],callback:[o,u],filter:[O,m],trueOrFalse:[v,g],limit:[k,w],page:[S,P],realLength:[I,F]}}function v(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),o=i[0],u=i[1],h=Object(a.useState)("status"),p=Object(j.a)(h,2),O=p[0],m=p[1],f=Object(a.useState)("true"),x=Object(j.a)(f,2),v=x[0],g=x[1],y=Object(a.useState)(1),N=Object(j.a)(y,2),k=N[0],w=N[1],C=Object(a.useState)(1),D=Object(j.a)(C,2),S=D[0],P=D[1],_=Object(a.useState)(0),A=Object(j.a)(_,2),I=A[0],F=A[1],E=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:3000/health/user?limit=9999&".concat(O,"=").concat(v,"&page=").concat(S),{headers:{Authorization:e}});case 2:c=t.sent,s(c.data.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(d.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("http://localhost:3000/health/user?limit=999999",{headers:{Authorization:e}});case 2:c=t.sent,F(c.data.data.length);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){e&&(E(),T())}),[e,o,O,v,S,k]),{healths:[n,s],callback:[o,u],filter:[O,m],trueOrFalse:[v,g],limit:[k,w],page:[S,P],realLength:[I,F]}}var g=c(0),y=Object(a.createContext)(),N=function(e){var t=e.children,c=Object(a.useState)(!1),n=Object(j.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(j.a)(i,2),u=o[0],b=o[1],N=Object(a.useState)(!1),k=Object(j.a)(N,2),w=k[0],C=k[1],D=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/user/refresh_token",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e.accesstoken)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/doctor/refresh_token",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){b(e.accessToken)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){localStorage.getItem("isLogin")&&D(),localStorage.getItem("isDoctorLogin")&&S()}),[]);var P={token:[s,r],loading:[w,C],doctorToken:[u,b],districtAPI:h(),patientAPI:p(s),doctorAPI:O(u),getAllPatientAPI:m(),getAllDoctorAPI:f(),getHealthDeclareForDoctor:x(u),getHealthDeclareForPatient:v(s)};return Object(g.jsx)(y.Provider,{value:P,children:t})},k=c(9),w=c(8),C=c.p+"static/media/logo.40eb8a63.svg",D=c.p+"static/media/menu.5bb3f970.svg",S=c.p+"static/media/menu-close.b1e29de1.svg";function P(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(g.jsxs)("div",{className:"nav-container",style:c?{maxHeight:"100vh"}:{maxHeight:"7rem"},children:[Object(g.jsxs)("div",{className:"logo-container",children:[Object(g.jsx)("img",{className:"logo",src:C,alt:"logo",onClick:function(){window.location.replace("/")}}),!c&&Object(g.jsx)("img",{alt:"hamburgerr",className:"hamburger",src:D,onClick:function(){n(!0)}}),c&&Object(g.jsx)("img",{alt:"hamburger-closee",className:"hamburger-close",src:S,onClick:function(){n(!1)}})]}),Object(g.jsx)("div",{className:c?"hamburger-bg":"hamburger-bg active"}),Object(g.jsxs)("div",{className:c?"menu mobile":"menu mobile active",children:[Object(g.jsx)(k.b,{to:"/",children:"Home"}),Object(g.jsx)(k.b,{to:"/",children:"How It Works"}),Object(g.jsx)(k.b,{to:"/",children:"Contact Us"})]}),Object(g.jsxs)("div",{className:c?"button-container mobile":"button-container mobile active",children:[Object(g.jsx)(k.b,{id:"login",to:"/login-portal",className:"button blue",children:"Login"}),Object(g.jsx)(k.b,{id:"register",to:"/register",className:"button green",children:"Register"})]}),Object(g.jsxs)("div",{className:"menu desktop",children:[Object(g.jsx)(k.b,{to:"/",children:"Home"}),Object(g.jsx)(k.b,{to:"/",children:"How It Works"}),Object(g.jsx)(k.b,{to:"/",children:"Contact Us"})]}),Object(g.jsxs)("div",{className:"button-container desktop",children:[Object(g.jsx)(k.b,{id:"login",to:"/login-portal",className:"button blue",children:"Login"}),Object(g.jsx)(k.b,{id:"register",to:"/register",className:"button green",children:"Register"})]})]})}var _=c.p+"static/media/doctor.8fe57738.png";function A(){return Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(g.jsx)(P,{}),Object(g.jsxs)("div",{className:"homepage-container",children:[Object(g.jsxs)("div",{className:"text-container",children:[Object(g.jsx)("p",{className:"text1",children:"Signs of COVID ?"}),Object(g.jsx)("h1",{className:"text2 desktop",children:"Get direct doctor support and prescriptions delivered right from home"}),Object(g.jsx)("h1",{className:"text2 mobile",children:"Get direct doctor support & prescriptions delivered right from home"}),Object(g.jsx)("p",{className:"text3",children:"Register an account, logged your symptoms and let one of our professional doctors in your area take care of you."}),Object(g.jsx)(k.b,{to:"/register",id:"register",class:"hover",children:"Register as a patient"})]}),Object(g.jsx)("div",{className:"image-container",children:Object(g.jsx)("img",{src:_,alt:""})})]})]})}var I=c(10),F=c(6),E=c(4);function T(){var e="http://localhost:3000",t=Object(a.useContext)(y),c=Object(j.a)(t.loading,2),n=c[0],s=c[1],r=Object(a.useState)(""),i=Object(j.a)(r,2),o=i[0],u=i[1],h=Object(a.useState)({name:"",email:"",password:"",district:"",phone:""}),p=Object(j.a)(h,2),O=p[0],m=p[1],f=Object(w.f)(),x=Object(a.useState)([]),v=Object(j.a)(x,2),N=v[0],k=v[1],C=function(e){var t=e.target,c=t.name,a=t.value;m(Object(F.a)(Object(F.a)({},O),{},Object(I.a)({},c,a)))},D=function(){var t=Object(d.a)(l.a.mark((function t(c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("".concat(e,"/district"));case 3:a=t.sent,k(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(E.a)(t.t0.response.data.msg);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){D()}),[]);var S=function(){var t=Object(d.a)(l.a.mark((function t(c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),""!==O.district&&"Districts"!==O.district){t.next=4;break}return Object(E.a)("Please choose a district "),t.abrupt("return",!1);case 4:if(!(O.password.length<6)){t.next=7;break}return Object(E.a)("Password must be at least 6 characters ! "),t.abrupt("return",!1);case 7:if(!(O.phone.length<10||O.phone.length>10)){t.next=10;break}return Object(E.a)("Phone must have 10 characters ! "),t.abrupt("return",!1);case 10:if(!(O.name.length<1)){t.next=13;break}return Object(E.a)("Please insert the username "),t.abrupt("return",!1);case 13:if(O.password===o){t.next=17;break}Object(E.a)("Password does not match !"),t.next=30;break;case 17:return t.prev=17,s(!n),t.next=21,b.a.post(e+"/user/register",Object(F.a)({},O));case 21:Object(E.a)("User ".concat(O.email," has been successfully registered !")),s(!1),f.push("/login-patient"),t.next=30;break;case 26:t.prev=26,t.t0=t.catch(17),Object(E.a)(t.t0.response.data.msg),s(!1);case 30:case"end":return t.stop()}}),t,null,[[17,26]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(g.jsx)(P,{}),Object(g.jsxs)("div",{className:"grid-container2",children:[Object(g.jsx)("div",{className:"item1"}),Object(g.jsxs)("div",{className:"item2",children:[Object(g.jsx)("div",{className:"reg1",children:"Register a patient account"}),Object(g.jsx)("div",{className:"reg2 green"}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:S,children:[Object(g.jsx)("input",{type:"text",className:"no3",id:"name",name:"name",placeholder:"Name..",value:O.name,onChange:C}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",className:"no1",id:"phone",name:"phone",placeholder:"Phone..",value:O.phone,onChange:C}),Object(g.jsx)("input",{type:"email",className:"no2",id:"email",name:"email",placeholder:"Email..",value:O.email,onChange:C}),Object(g.jsx)("br",{}),Object(g.jsxs)("select",{name:"district",id:"district",className:"no3",value:O.district,onChange:C,children:[Object(g.jsx)("option",{children:" Districts "}),N.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name})}))]}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",className:"no3",id:"password",name:"password",placeholder:"Password..",value:O.password,onChange:C}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",className:"no3",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password..",value:o,onChange:function(e){return u(e.target.value)}}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"submit",id:"registerbutton",value:"Register",className:"button green"})]})})]}),Object(g.jsx)("div",{className:"item3"})]})]})}E.a.configure();var H,L,M,B=c(12),z=c(13),W=z.a.div(H||(H=Object(B.a)(["\n    background-image: ",";\n    height: 15%;\n    padding-left: 1.2rem;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n\n    * {\n    display: inline;\n    }\n\n    a{\n    text-decoration: none;\n    }\n"])),(function(e){return e.active?"linear-gradient(281.8deg, #00A473 0%, #1bd16d 100%)":""})),R=z.a.img(L||(L=Object(B.a)(["\n    height: 1.5rem;\n    margin-right: 1rem;\n"]))),q=z.a.h2(M||(M=Object(B.a)(["\npadding-right: 2rem;\ncolor: ",";\n"])),(function(e){return e.active?"#ffffff":"#00A473"}));var U=function(e){var t=e.title,c=e.icon,a=e.link,n=e.active;return Object(g.jsxs)(W,{className:"menu-item ",active:n,children:[Object(g.jsx)(R,{src:c}),Object(g.jsx)(k.b,{to:a,children:Object(g.jsx)(q,{active:n,children:t})})]})},J=c.p+"static/media/profile.0649a8e9.svg",V=c.p+"static/media/profile-active.e2600136.svg",Y=c.p+"static/media/profile-blue.69991cf2.svg",G=c.p+"static/media/health-status.71f1a3ad.svg",K=c.p+"static/media/health-status-active.67139afa.svg",Q=c.p+"static/media/health-status-blue.a39a46b5.svg",X=c.p+"static/media/chat.029dc5b8.svg",Z=c.p+"static/media/chat-active.92ebec77.svg",$=c.p+"static/media/chat-blue.9c8184ab.svg",ee=c.p+"static/media/view-health.b788e5a9.svg",te=c.p+"static/media/view-health-active.cf552ed4.svg",ce=c.p+"static/media/view-health-blue.9e7bb9c7.svg",ae=c.p+"static/media/profile.9bfcd791.svg",ne=c(36),se=c(78),re=c.n(se),ie="newChatMessage",oe=function(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(a.useRef)();Object(a.useEffect)((function(){return r.current=re()("/",{query:{roomId:e}}),r.current.on(ie,(function(e){var t=Object(F.a)(Object(F.a)({},e),{},{ownedByCurrentUser:e.senderId===r.current.id,datetime:"".concat((new Date).toDateString().substr(4,6),", ").concat((new Date).toTimeString().substr(0,5))});s((function(e){return[].concat(Object(ne.a)(e),[t])}))})),function(){r.current.disconnect()}}),[e]);return{messages:n,sendMessage:function(e){r.current.emit(ie,{body:e,senderId:r.current.id})}}},le=(c(140),function(e){var t,c,s,r=e.doctors,i=e.isWho,o=e.currentPatient,l=e.roomId,d=e.setRoomId,u=e.pop,b=e.setPop,h=oe(l),p=h.messages,O=h.sendMessage,m=n.a.useState(""),f=Object(j.a)(m,2),x=f[0],v=f[1],y=Object(a.useState)([]),N=Object(j.a)(y,2),k=N[0],w=N[1],C=Object(a.useState)(!1),D=Object(j.a)(C,2),S=D[0],P=D[1],_=Object(a.useState)(0),A=Object(j.a)(_,2),I=A[0],F=A[1],E=Object(a.useRef)();return Object(a.useEffect)((function(){r.forEach((function(e){e._id==l&&w(e)}))}),[l,r]),Object(a.useEffect)((function(){for(;p.length;)p.pop(),b(!1)}),[l,u]),Object(a.useEffect)((function(){F(p.length)}),[S]),Object(a.useEffect)((function(){return E.current.scrollIntoView({behavior:"smooth"})})),Object(g.jsxs)("div",{className:S?"chat-room-container":"chat-room-container active",children:[Object(g.jsxs)("div",{className:"chat-header",children:[Object(g.jsx)("div",{className:"logo",children:"isDoctor"===i?Object(g.jsx)("h2",{children:"Chat with patient"}):Object(g.jsxs)("h2",{children:["Chat with ",k.name]})}),!S&&(s=p,I<s.length)&&Object(g.jsx)("div",{className:"notifi",children:p.length-I}),Object(g.jsxs)("div",{className:"btn-toggle",children:[S?Object(g.jsx)("button",{onClick:function(){return P(!1)},children:"-"}):Object(g.jsx)("button",{onClick:function(){return P(!0)},children:"+"}),Object(g.jsx)("button",{onClick:function(){return d(!1)},children:"x"})]})]}),"isPatient"===i&&Object(g.jsxs)("div",{className:"chat-intro",children:[Object(g.jsx)("div",{className:"picture-container",children:Object(g.jsx)("div",{style:{backgroundImage:"url(".concat((null===(t=k.img)||void 0===t?void 0:t.url)?null===(c=k.img)||void 0===c?void 0:c.url:ae)}})}),Object(g.jsxs)("h2",{children:["You're chatting with Dr.",k.name]})]}),Object(g.jsx)("div",{className:"messages-container",children:Object(g.jsx)("div",{className:"wrapper",children:Object(g.jsxs)("div",{className:"chat-content",children:[Object(g.jsx)("div",{className:"message",children:p.map((function(e,t){return Object(g.jsxs)("div",{className:"message-row ".concat(e.ownedByCurrentUser?"my-message":"other-message"),children:[Object(g.jsx)("div",{className:"message-title",children:e.ownedByCurrentUser?Object(g.jsx)("p",{children:"isPatient"===i?o.name:"Dr.".concat(k.name)}):Object(g.jsx)("p",{children:"isPatient"!==i?"Patient":k.name})}),Object(g.jsx)("div",{className:"message-text",children:e.body}),Object(g.jsx)("div",{className:"message-datetime",children:e.datetime})]},t)}))}),Object(g.jsx)("div",{ref:E})]})})}),Object(g.jsx)("div",{className:"input-container",children:Object(g.jsx)("textarea",{rows:"1",value:x,onChange:function(e){v(e.target.value)},placeholder:"Write message...",className:"new-message-input-field",onKeyUp:function(e){e.preventDefault(),"Enter"===e.key&&""!==x&&(O(x),v(""))}})})]})}),de=function(){var e=Object(a.useContext)(y),t=Object(j.a)(e.patientAPI.info,1)[0],c=Object(j.a)(e.patientAPI.patient,1)[0],n=Object(a.useState)([]),s=Object(j.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(!1),u=Object(j.a)(o,2),h=u[0],p=u[1],O=Object(a.useState)(!1),m=Object(j.a)(O,2),f=m[0],x=m[1],v=Object(j.a)(e.loading,2),N=v[0],k=v[1],w=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!N),e.next=3,b.a.get("".concat("http://localhost:3000","/doctor?limit=99"));case 3:t=e.sent,i(t.data.data),k(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){w()}),[]),Object(g.jsx)(g.Fragment,{children:c&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"home-container",children:r.filter((function(e){var c,a;return(null===(c=t.district)||void 0===c?void 0:c._id)===(null===(a=e.district)||void 0===a?void 0:a._id)})).map((function(e){var t;return Object(g.jsxs)("div",{className:"doctor-container doctor-container-gradient",onClick:function(t){p(e._id),x(!0)},children:[Object(g.jsx)("div",{className:"picture-container",children:Object(g.jsx)("div",{style:{backgroundImage:"url(".concat(null===(t=e.img)||void 0===t?void 0:t.url)}})}),Object(g.jsxs)("div",{className:"info-container",children:[Object(g.jsx)("h3",{children:"Dr."}),Object(g.jsx)("h1",{children:e.name})]})]})}))}),h&&Object(g.jsx)(le,{roomId:h,doctors:r,currentPatient:t,isWho:"isPatient",setRoomId:p,pop:f,setPop:x})]})})};var je=function(e){return Object(g.jsx)("div",{children:Object(g.jsx)(de,{})})};var ue=function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.token,1)[0],n=Object(j.a)(t.loading,2),s=n[0],r=n[1],i=Object(j.a)(t.patientAPI.info,1)[0],o=Object(j.a)(t.getAllDoctorAPI.doctors,1)[0],u=Object(j.a)(t.getAllDoctorAPI.limit,2),h=u[0],p=u[1],O=Object(j.a)(t.getHealthDeclareForPatient.callback,2),m=O[0],f=O[1],x=Object(a.useState)(""),v=Object(j.a)(x,2),N=v[0],k=v[1];Object(a.useEffect)((function(){p(9999999*h)}),[]);for(var w=Object(a.useState)({covid:!1,vaccinated:!1,fever:!1,cough:!1,breathing:!1,sorethroat:!1,phlegm:!1,runnynose:!1,tiredness:!1,blocknose:!1,losssmell:!1,musclepain:!1,othersymptoms:""}),C=Object(j.a)(w,2),D=C[0],S=C[1],P=["Tested positive","Vaccinated","Fever","Cough","Breathing difficulties","Sorethroat","Phlegm","Runny nose","Tiredness","Blocked nose","Smell loss","Muscle Pain"],_=[],A=function(e){var t=e.target,c=t.name,a=t.checked;S(Object(F.a)(Object(F.a)({},D),{},Object(I.a)({},c,a)))},T=Object.keys(D),H=0,L=0;L<T.length-1;L++)_.push(Object(g.jsxs)("div",{className:"dashboardcheckbox-container",children:[Object(g.jsx)("h2",{children:P[H]}),Object(g.jsx)("input",{name:[T[L]],id:[T[L]],type:"checkbox",checked:D[T[L]],onChange:A})]})),H+=1;var M=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r(!s),e.next=5,b.a.post("http://localhost:3000/health/add",Object(F.a)(Object(F.a)({},D),{},{user_id:i._id,doctor_id:N}),{headers:{Authorization:c}});case 5:Object(E.a)("Health Declaration has been created."),f(!m),r(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Object(E.a)(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{class:"patient-addhealth",children:Object(g.jsx)("div",{className:"dashboardmain-container",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"Your Health Status"}),Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsxs)("div",{className:"fieldbig",style:{flexBasis:"100%"},children:[Object(g.jsxs)("label",{htmlFor:"doctor",children:["Doctor in ",i.district.name]}),Object(g.jsxs)("select",{id:"doctor",value:N,onChange:function(e){k(e.target.value),console.log(N)},children:[Object(g.jsx)("option",{value:"",children:"Please select doctor"}),o.map((function(e){var t,c;return(null===(t=e.district)||void 0===t?void 0:t._id)==(null===(c=i.district)||void 0===c?void 0:c._id)?Object(g.jsx)("option",{className:"doctor-option",value:e._id,children:e.name}):""}))]})]}),_,Object(g.jsxs)("div",{className:"dashboardtextarea",children:[Object(g.jsx)("label",{htmlFor:"other",children:"Other Symptoms"}),Object(g.jsx)("textarea",{name:"other",id:"other",onChange:function(e){S(Object(F.a)(Object(F.a)({},D),{},{othersymptoms:e.target.value}))}})]})]}),Object(g.jsx)("button",{className:"button green ",onClick:M,children:"Save"})]})})})};c(71);var be=function(e){var t,c,a,n=e.modalDisplay,s=e.setModalDisplay,r=e.medicineData,i=e.healthData;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:n===i._id?"modal active":"modal",children:Object(g.jsxs)("div",{className:n===i._id?"modal-content active":"modal-content",children:[Object(g.jsx)("span",{className:"close",onClick:function(){return s(!1)},children:"\xd7"}),Object(g.jsxs)("div",{className:"header",children:[Object(g.jsxs)("h1",{children:[(null===(t=i.doctor_id)||void 0===t?void 0:t.name)&&"Prescription from Dr."+i.doctor_id.name,(null===(c=i.user_id)||void 0===c?void 0:c.name)&&"Prescription for Pt."+i.user_id.name]}),Object(g.jsx)("h2",{children:r&&(a=new Date(r.createdAt),"".concat(function(e){return 0===e.getDay()?"Sunday":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e.getDay()-1]}(a),", ").concat(function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}(a)," ").concat(a.getDate(),", ").concat(a.getFullYear()))})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("h1",{children:"Diagnostics"}),Object(g.jsx)("p",{children:r&&r.diagnostic})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("h1",{children:"Prescribed Medicine"}),Object(g.jsxs)("table",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Medicine"}),Object(g.jsx)("th",{children:"Type"}),Object(g.jsx)("th",{children:"Quantity"}),Object(g.jsx)("th",{children:"Dosage"})]}),r&&r.prescriptions.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.medicine.name}),Object(g.jsx)("td",{children:e.medicine.type}),Object(g.jsx)("td",{children:e.quantity}),Object(g.jsx)("td",{children:e.frequency})]})}))]})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("h1",{children:"Doctor Notes"}),Object(g.jsx)("p",{children:r&&r.note})]})]})})})};var he=function(e){var t,c,a,n=e.modalDisplayHealth,s=e.setModalDisplayHealth,r=e.healthData,i=r._id,o=r.createdAt,l=r.fever,d=r.cough,j=r.breathing,u=r.sorethroat,b=r.phlegm,h=r.runnynose,p=r.tiredness,O=r.blocknose,m=r.losssmell,f=r.musclepain,x=r.vaccinated,v=r.covid,y=r.othersymptoms;return Object(g.jsx)("div",{className:n===i?"modal active":"modal",children:Object(g.jsxs)("div",{className:n===i?"modal-content active":"modal-content",children:[Object(g.jsx)("span",{className:"close",onClick:function(){return s(!1)},children:"\xd7"}),Object(g.jsxs)("div",{className:"header",children:[Object(g.jsx)("h1",{children:"Health Declaration"}),Object(g.jsxs)("h2",{children:["created on ",(a=new Date(o),"".concat(function(e){return 0===e.getDay()?"Sunday":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][e.getDay()-1]}(a),", ").concat(function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]}(a)," ").concat(a.getDate(),", ").concat(a.getFullYear()))]}),Object(g.jsxs)("h3",{children:[(null===(t=r.doctor_id)||void 0===t?void 0:t.name)&&"With Dr."+r.doctor_id.name,(null===(c=r.user_id)||void 0===c?void 0:c.name)&&"From Pt."+r.user_id.name]}),Object(g.jsxs)("h3",{children:["ID: ",i]})]}),v||x?Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("h1",{children:"Status"}),Object(g.jsxs)("div",{className:"symptoms",children:[v?Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"fas fa-virus"}),"Covid Positived"]}):"",x?Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"fas fa-syringe"}),"Vaccinated"]}):""]})]}):"",l||d||j||u||b||h||p||O||m||f?Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("h1",{children:"Symptoms"}),Object(g.jsxs)("div",{className:"symptoms",children:[l?Object(g.jsx)("p",{children:"Fever"}):"",d?Object(g.jsx)("p",{children:"Cough"}):"",j?Object(g.jsx)("p",{children:"Breathing difficulties"}):"",u?Object(g.jsx)("p",{children:"Sorethroat"}):"",b?Object(g.jsx)("p",{children:"Phlegm"}):"",h?Object(g.jsx)("p",{children:"Runny nose"}):"",p?Object(g.jsx)("p",{children:"Tiredness"}):"",O?Object(g.jsx)("p",{children:"Blocked nose"}):"",m?Object(g.jsx)("p",{children:"Smell loss"}):"",f?Object(g.jsx)("p",{children:"Muscle Pain"}):""]})]}):"",y&&Object(g.jsxs)("div",{className:"info",children:[Object(g.jsx)("h1",{children:"Other Symptoms"}),y&&y]})]})})},pe=c.p+"static/media/view-medicine.d491114a.svg",Oe=c.p+"static/media/prescriptions.1eff2c75.svg",me=c.p+"static/media/delete.15a43fca.svg";var fe,xe,ve=function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.getHealthDeclareForPatient.healths,1)[0],n=Object(j.a)(t.getHealthDeclareForPatient.filter,2),s=n[0],r=n[1],i=Object(j.a)(t.getHealthDeclareForPatient.trueOrFalse,2),o=i[0],u=i[1],h=Object(j.a)(t.getHealthDeclareForPatient.page,2),p=h[0],O=h[1],m=Object(j.a)(t.getHealthDeclareForPatient.realLength,1)[0],f=Object(j.a)(t.getHealthDeclareForPatient.callback,2),x=f[0],v=f[1],N=Object(j.a)(t.token,1)[0],k=Object(j.a)(t.loading,2),w=k[0],C=k[1],D=Object(a.useState)(""),S=Object(j.a)(D,2),P=S[0],_=S[1],A=Object(a.useState)(""),I=Object(j.a)(A,2),F=I[0],T=I[1],H=Math.ceil(m/10),L=function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.currentTarget.value,window.confirm("Confirm to delete Health Declaration ID: ".concat(c)),C(!w),e.prev=3,e.next=6,b.a.delete("http://localhost:3000/health/delete/".concat(c),{headers:{Authorization:N}});case 6:Object(E.a)("Health declaration "+c+" has been deleted"),v(!x),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:C(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"filter-section",children:[Object(g.jsxs)("div",{className:"filter-by-status",children:[Object(g.jsx)("label",{children:" Choose a conditions:"}),Object(g.jsx)("select",{className:"filterCondition",name:"filter",id:"filter",value:s,onChange:function(e){O(1),r(e.target.value)},children:["fever","cough","breathing","sorethroat","phlegm","runnynose","tiredness","blocknose","losssmell","musclepain","vaccinated","covid","status"].map((function(e,t){return Object(g.jsx)("option",{value:e,children:e},t)}))})]}),Object(g.jsx)("div",{className:"true-false",children:["true","false"].map((function(e,t){return Object(g.jsxs)("label",{htmlFor:e,children:["true"===e?"prescribed":"unprescribed",Object(g.jsx)("input",{type:"radio",name:"radiovalues",value:e,onChange:function(e){u(e.target.value),O(1)},checked:e===o,id:e})]},t)}))}),Object(g.jsxs)("div",{className:"paginate",children:[Object(g.jsxs)("button",{className:"btn-prev",onClick:function(){p>1&&O((function(e){return e-1}))},children:[" ",Object(g.jsx)("i",{className:"fas fa-chevron-left"})," Prev page "]}),Object(g.jsx)("input",{className:"inputPage",min:"1",max:H,type:"number",value:p,onChange:function(e){return O(e.target.value)}}),Object(g.jsxs)("button",{className:"btn-next",onClick:function(){p>0&&p!==H?O((function(e){return e+1})):Object(E.a)("No more data available, please go back ")},children:[" Next page ",Object(g.jsx)("i",{className:"fas fa-chevron-right"})," "]})]})]}),Object(g.jsx)("div",{className:"healthdeclare-container",children:Object(g.jsxs)("table",{className:"display",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Date"}),Object(g.jsx)("th",{children:"Health Declaration ID"}),Object(g.jsx)("th",{children:"Doctor name"}),Object(g.jsx)("th",{children:"Vaccinated"}),Object(g.jsx)("th",{children:"Covid"}),Object(g.jsx)("th",{}),Object(g.jsx)("th",{}),Object(g.jsx)("th",{})]})}),c.map((function(e){var t;return Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(g.jsx)("td",{style:{color:"#00A473",cursor:"pointer"},onClick:function(){T(e._id)},children:e._id}),Object(g.jsx)("td",{children:null===(t=e.doctor_id)||void 0===t?void 0:t.name}),Object(g.jsxs)("td",{children:[" ",e.vaccinated?"true":"false"]}),Object(g.jsxs)("td",{children:[" ",e.covid?"true":"false"]}),Object(g.jsxs)("td",{style:{cursor:"pointer",textAlign:"center"},children:["true"==o&&Object(g.jsx)("img",{alt:"hover icon",onClick:function(){_(e._id)},className:"hover icon",src:Oe}),Object(g.jsx)("img",{alt:"hover icon",onClick:function(){T(e._id)},className:"hover icon",style:{marginLeft:"1rem"},src:pe})]}),Object(g.jsx)("td",{children:Object(g.jsx)("button",{className:"button-none",value:e._id,onClick:L,children:Object(g.jsx)("img",{className:"icon hover",src:me,alt:"delete icon"})})}),"true"==o&&Object(g.jsx)("td",{children:Object(g.jsx)(be,{modalDisplay:P,setModalDisplay:_,healthData:e,medicineData:e.medicineform_id},e._id+"medicine")}),Object(g.jsx)("td",{children:Object(g.jsx)(he,{modalDisplayHealth:F,setModalDisplayHealth:T,healthData:e},e._id)})]})},e._id)}))]})})]})},ge=c.p+"static/media/profile-picture-edit.42eaf1e3.svg",ye=z.a.label(fe||(fe=Object(B.a)(["\n"]))),Ne=z.a.img(xe||(xe=Object(B.a)(["\n    display: inline-block;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    width: 2.5rem;\n    cursor: pointer;\n    transition: width 0.2s;\n\n    :hover{\n        width: 3rem;\n    }\n"])));var ke=function(e){var t,c=e.info,n=e.token,s=e.callback,r=e.setCallback,i=e.setLoading,o=Object(a.useState)({url:"",public_id:""}),u=Object(j.a)(o,2),h=u[0],p=u[1],O="http://localhost:3000",m=function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(!0),""!==h.url&&((c=new FormData).append("public_id",h.public_id),b.a.post(O+"/api/destroy",c).then((function(e){console.log(e.data),Object(E.a)("Old profile picture has been removed")})).catch((function(e){return Object(E.a)(e.request)}))),a=t.target.files[0],(n=new FormData).append("file",a),e.prev=6,e.next=9,b.a.post(O+"/api/upload",n);case 9:s=e.sent,console.log(s.data),p(s.data),f(s.data),Object(E.a)("New profile picture has been updated"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),Object(E.a)(e.t0.response.data.msg);case 19:i(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3000/user/update",{method:"PUT",headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({img:{url:t.url,public_id:t.public_id},name:document.getElementById("name").value,district:{_id:document.getElementById("district").value},phone:document.getElementById("phone").value})}).then((function(e){return e.json()})).then((function(e){Object(E.a)(e.msg)})).then(r(!s));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(E.a)(e.t0.response);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c.img&&p(c.img)}),[]),Object(g.jsxs)("div",{className:"dashboardmain-container",children:[Object(g.jsx)("div",{className:"profilepicture-container",style:{backgroundImage:"url(".concat((null===(t=c.img)||void 0===t?void 0:t.url)||ae,")")},children:Object(g.jsx)(ye,{htmlFor:"photo-upload",children:Object(g.jsx)(Ne,{src:ge})})}),Object(g.jsx)("input",{id:"photo-upload",type:"file",onChange:m})]})};var we=function(e){var t=e.info,c=Object(a.useState)({name:"",email:"",phone:""}),n=Object(j.a)(c,2),s=n[0],r=n[1],i=function(e){var t=e.target,c=t.name,a=t.value;r(Object(F.a)(Object(F.a)({},s),{},Object(I.a)({},c,a)))};return Object(a.useEffect)((function(){r(t)}),[t]),Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"name",children:"Name"}),Object(g.jsx)("input",{className:"editable",name:"name",id:"name",type:"text",placeholder:"Full Name",value:s.name,onChange:i})]}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{className:"uneditable",name:"email",id:"email",type:"text",placeholder:"Email Address",value:s.email,onChange:i,readOnly:!0})]}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"name",children:"Phone"}),Object(g.jsx)("input",{className:"editable",name:"phone",id:"phone",type:"text",placeholder:"Full Name",value:s.phone,onChange:i})]})]})};var Ce=function(e){var t=e.info,c=Object(a.useContext)(y),n=Object(j.a)(c.districtAPI.district,1)[0],s=Object(a.useState)(""),r=Object(j.a)(s,2),i=r[0],o=r[1],l=Object(a.useState)({name:"",postcode:""}),d=Object(j.a)(l,2),u=d[0],b=d[1];return Object(a.useEffect)((function(){t.district&&o(t.district._id)}),[t]),Object(a.useEffect)((function(){n.forEach((function(e){i==e._id&&b(e.city)}))}),[i]),Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"district",children:"District"}),Object(g.jsx)("select",{id:"district",value:i,onChange:function(e){o(e.target.value)},children:n.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name})}))})]}),Object(g.jsxs)("div",{className:"field",style:{userSelect:"none"},children:[Object(g.jsx)("label",{htmlFor:"city",children:"City"}),Object(g.jsx)("input",{className:"uneditable",id:"city",type:"text",placeholder:"City",value:u.name,readOnly:!0})]}),Object(g.jsxs)("div",{className:"field",style:{userSelect:"none"},children:[Object(g.jsx)("label",{htmlFor:"postcode",children:"Postcode"}),Object(g.jsx)("input",{className:"uneditable",id:"postcode",type:"text",placeholder:"Full Name",value:u.postcode,readOnly:!0})]})]})};for(var De=function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.patientAPI.info,1)[0],n=Object(j.a)(t.token,1)[0],s=Object(j.a)(t.patientAPI.callback,2),r=s[0],i=s[1],o=Object(j.a)(t.loading,2),u=o[0],b=o[1],h=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!u),e.prev=2,e.next=5,fetch("http://localhost:3000/user/update",{method:"PUT",headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({name:document.getElementById("name").value,district:{_id:document.getElementById("district").value},phone:document.getElementById("phone").value,img:c.img})}).then((function(e){return e.json()})).then((function(e){Object(E.a)(e.msg)})).then(i(!r));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Object(E.a)(e.t0.response.data.msg);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"dashboardmain-container",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"PROFILE PICTURE"}),Object(g.jsx)(ke,{setLoading:b,info:c,token:n,callback:r,setCallback:i})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"PERSONAL INFORMATION"}),Object(g.jsx)(we,{setLoading:b,info:c})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"HOME ADDRESS"}),Object(g.jsx)(Ce,{setLoading:b,info:c})]}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("button",{className:"button green",onClick:h,children:"Save"})})]})},Se=[{title:"Profile",component:De,icon:J,icon_active:V,icon_blue:Y,link:"/profile"},{title:"Add Health",component:ue,icon:G,icon_active:K,icon_blue:Q,link:"/health"},{title:"View Health",component:ve,icon:ee,icon_active:te,icon_blue:ce,link:"/view-health"},{title:"Doctor Chat",component:je,icon:X,icon_active:Z,icon_blue:$,link:"/chat"}],Pe=0;Pe<Se.length;Pe++)Se[Pe].link="/patient"+Se[Pe].link;var _e,Ae,Ie=Se,Fe=c.p+"static/media/patients.75091f0a.svg",Ee=c.p+"static/media/patients-active.5fe72e3c.svg",Te=c.p+"static/media/patients-blue.1e8c61af.svg",He=c.p+"static/media/prescriptions-active.b44a9bda.svg",Le=c.p+"static/media/prescriptions-blue.d899a7b3.svg",Me=z.a.label(_e||(_e=Object(B.a)(["\n"]))),Be=z.a.img(Ae||(Ae=Object(B.a)(["\n    display: inline-block;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    width: 2.5rem;\n    cursor: pointer;\n    transition: width 0.2s;\n\n    :hover{\n        width: 3rem;\n    }\n"])));var ze,We,Re,qe=function(e){var t,c=e.doctorInfo,n=e.doctorToken,s=e.callbackDoctor,r=e.setCallbackDoctor,i=e.setLoading,o=Object(a.useState)({url:"",public_id:""}),u=Object(j.a)(o,2),h=u[0],p=u[1],O="http://localhost:3000",m=function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(!0),""!==h.url&&((c=new FormData).append("public_id",h.public_id),b.a.post(O+"/api/destroy",c).then((function(e){console.log(e.data),Object(E.a)("Old profile picture has been removed")})).catch((function(e){return Object(E.a)(e.request)}))),a=t.target.files[0],(n=new FormData).append("file",a),e.prev=6,e.next=9,b.a.post(O+"/api/upload",n);case 9:s=e.sent,console.log(s.data),p(s.data),f(s.data),Object(E.a)("New profile picture has been updated"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),Object(E.a)(e.t0.response.data.msg);case 19:i(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/doctor/update/img",{method:"PUT",headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({img:{url:t.url,public_id:t.public_id}})}).then((function(e){return e.json()})).then((function(e){Object(E.a)(e.msg)})).then(r(!s));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c.img&&p(c.img)}),[]),Object(g.jsxs)("div",{className:"dashboardmain-container",children:[Object(g.jsx)("div",{className:"profilepicture-container",style:{backgroundImage:"url(".concat((null===(t=c.img)||void 0===t?void 0:t.url)||ae,")")},children:Object(g.jsx)(Me,{htmlFor:"photo-upload",children:Object(g.jsx)(Be,{src:ge})})}),Object(g.jsx)("input",{id:"photo-upload",type:"file",onChange:m})]})},Ue=c.p+"static/media/certificate.dc0c422c.svg",Je=z.a.img(ze||(ze=Object(B.a)(["\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    border-radius: 2rem;\n"]))),Ve=z.a.label(We||(We=Object(B.a)(["\n"]))),Ye=z.a.img(Re||(Re=Object(B.a)(["\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    width: 2.5rem;\n    cursor: pointer;\n    transition: width 0.2s;\n\n    :hover{\n        width: 3rem;\n    }\n"])));var Ge=function(e){var t,c=e.doctorInfo,n=e.doctorToken,s=e.callbackDoctor,r=e.setCallbackDoctor,i=e.setLoading,o=Object(a.useState)({url:"",public_id:""}),u=Object(j.a)(o,2),h=u[0],p=u[1],O="http://localhost:3000",m=function(){var e=Object(d.a)(l.a.mark((function e(t){var c,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(!0),""!==h.url&&((c=new FormData).append("public_id",h.public_id),b.a.post(O+"/api/destroy",c).then((function(e){console.log(e.data),Object(E.a)("Old certificate has been removed")})).catch((function(e){return Object(E.a)(e.request)}))),a=t.target.files[0],(n=new FormData).append("file",a),e.prev=6,e.next=9,b.a.post(O+"/api/upload",n);case 9:s=e.sent,console.log(s.data),p(s.data),f(s.data),Object(E.a)("New certificate has been updated"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),Object(E.a)(e.t0.response.data.msg);case 19:i(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3000/doctor/update/certificate",{method:"PUT",headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({certificate:{url:t.url,public_id:t.public_id}})}).then((function(e){return e.json()})).then((function(e){Object(E.a)(e.msg)})).then(r(!s));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(E.a)(e.t0.response);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){c.certificate&&p(c.certificate)}),[]),Object(g.jsxs)("div",{className:"dashboardmain-container",children:[Object(g.jsxs)("div",{className:"certificate-container",children:[Object(g.jsx)(Je,{src:(null===(t=c.certificate)||void 0===t?void 0:t.url)||Ue}),Object(g.jsx)(Ve,{htmlFor:"certificate-upload",children:Object(g.jsx)(Ye,{src:ge})})]}),Object(g.jsx)("input",{id:"certificate-upload",type:"file",onChange:m})]})};var Ke=function(e){var t=e.doctorInfo,c=Object(a.useState)({name:"",email:"",phone:"",experience:""}),n=Object(j.a)(c,2),s=n[0],r=n[1],i=function(e){var t=e.target,c=t.name,a=t.value;r(Object(F.a)(Object(F.a)({},s),{},Object(I.a)({},c,a)))};return Object(a.useEffect)((function(){r(t)}),[t]),Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"name",children:"Name"}),Object(g.jsx)("input",{className:"editable",name:"name",id:"name",type:"text",placeholder:"Full Name",value:s.name,onChange:i})]}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{className:"uneditable",name:"email",id:"email",type:"text",placeholder:"Email Address",value:s.email,onChange:i,readOnly:!0})]}),Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"name",children:"Phone"}),Object(g.jsx)("input",{className:"editable",name:"phone",id:"phone",type:"text",placeholder:"Full Name",value:s.phone,onChange:i})]}),Object(g.jsxs)("div",{className:"dashboardtextarea",children:[Object(g.jsx)("h2",{children:"Experiences"}),Object(g.jsx)("textarea",{name:"experience",id:"experience",value:s.experience,onChange:i})]})]})};var Qe=function(e){var t=e.doctorInfo,c=Object(a.useContext)(y),n=Object(j.a)(c.districtAPI.district,1)[0],s=Object(a.useState)(""),r=Object(j.a)(s,2),i=r[0],o=r[1],l=Object(a.useState)({name:"",postcode:""}),d=Object(j.a)(l,2),u=d[0],b=d[1];return Object(a.useEffect)((function(){t.district&&o(t.district._id)}),[t]),Object(a.useEffect)((function(){n.forEach((function(e){i==e._id&&b(e.city)}))}),[i]),Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsxs)("div",{className:"field",children:[Object(g.jsx)("label",{htmlFor:"district",children:"District"}),Object(g.jsx)("select",{id:"district",value:i,onChange:function(e){o(e.target.value)},children:n.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name})}))})]}),Object(g.jsxs)("div",{className:"field",style:{userSelect:"none"},children:[Object(g.jsx)("label",{htmlFor:"city",children:"City"}),Object(g.jsx)("input",{className:"uneditable",id:"city",type:"text",placeholder:"City",value:u.name,readOnly:!0})]}),Object(g.jsxs)("div",{className:"field",style:{userSelect:"none"},children:[Object(g.jsx)("label",{htmlFor:"postcode",children:"Postcode"}),Object(g.jsx)("input",{className:"uneditable",id:"postcode",type:"text",placeholder:"Full Name",value:u.postcode,readOnly:!0})]})]})};var Xe=function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.doctorAPI.doctorInfo,1)[0],n=Object(j.a)(t.doctorToken,1)[0],s=Object(j.a)(t.doctorAPI.callbackDoctor,2),r=s[0],i=s[1],o=Object(j.a)(t.loading,2),u=o[0],b=o[1],h=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!u),e.next=4,fetch("http://localhost:3000/doctor/update",{method:"PUT",headers:{Authorization:n,"Content-Type":"application/json"},body:JSON.stringify({name:document.getElementById("name").value,district:{_id:document.getElementById("district").value},phone:document.getElementById("phone").value,experience:document.getElementById("experience").value})}).then((function(e){return e.json()})).then((function(e){Object(E.a)(e.msg)})).then(i(!r));case 4:b(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"dashboardmain-container",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"PROFILE PICTURE"}),Object(g.jsx)(qe,{setLoading:b,doctorInfo:c,doctorToken:n,callbackDoctor:r,setCallbackDoctor:i})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"PERSONAL INFORMATION"}),Object(g.jsx)(Ke,{doctorInfo:c})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"CERTIFICATE"}),Object(g.jsx)(Ge,{setLoading:b,doctorInfo:c,doctorToken:n,callbackDoctor:r,setCallbackDoctor:i})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"ASSIGNED LOCATION"}),Object(g.jsx)(Qe,{doctorInfo:c})]}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("button",{className:"button green ",onClick:h,children:"Save"})})]})};c(72);function Ze(){var e=Object(a.useContext)(y),t=Object(a.useState)(0),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(j.a)(e.districtAPI.district,1)[0],i=Object(j.a)(e.getAllPatientAPI.search,2),o=i[0],u=i[1],h=Object(j.a)(e.getAllPatientAPI.page,2),p=h[0],O=h[1],m=Object(j.a)(e.getAllPatientAPI.filter,2),f=m[0],x=m[1],v=Object(j.a)(e.getAllPatientAPI.limit,2),N=v[0],k=v[1],w=Math.ceil(n/(5*N)),C=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:3000/user?limit=999999999");case 2:t=e.sent,s(t.data.data.length);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){k(1),C()}),[]),Object(g.jsxs)("div",{className:"filter",children:[Object(g.jsxs)("div",{className:"search",children:[Object(g.jsx)("label",{htmlFor:"",onClick:function(){return u("")},children:"Search: "}),Object(g.jsx)("input",{type:"text",value:o,placeholder:"by Name",onChange:function(e){u(e.target.value),O(1),x("")}})]}),Object(g.jsxs)("div",{className:"filterring",children:[Object(g.jsx)("label",{htmlFor:"",onClick:function(){return x("")},children:"Filter by District: "}),Object(g.jsxs)("select",{className:"filterByDistrict",name:"district",id:"district",value:f,onChange:function(e){x(e.target.value),O(1),u("")},children:[Object(g.jsx)("option",{value:"",children:"Select a district"}),r.map((function(e){return Object(g.jsx)("option",{value:"district=".concat(e._id),children:e.name})}))]})]}),Object(g.jsxs)("div",{className:"paginate",children:[Object(g.jsxs)("button",{className:"btn-prev",onClick:function(){p>1&&O((function(e){return e-1}))},children:[" ",Object(g.jsx)("i",{className:"fas fa-chevron-left"})," Prev page "]}),Object(g.jsx)("input",{className:"inputPage",min:"1",max:w,type:"number",value:p,onChange:function(e){return O(e.target.value)}}),Object(g.jsxs)("button",{className:"btn-next",onClick:function(){p>0&&p!==w?(O((function(e){return e+1})),u(""),x("")):Object(E.a)("No more data available, please go back ")},children:[" Next page ",Object(g.jsx)("i",{className:"fas fa-chevron-right"})," "]})]})]})}var $e=function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.getAllPatientAPI.patients,1)[0],n=Object(j.a)(t.getAllPatientAPI.sort,2),s=n[0],r=n[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:"list",children:" Patient List"}),Object(g.jsx)(Ze,{}),Object(g.jsx)("div",{class:"patients-container",children:Object(g.jsxs)("table",{style:{width:"100%"},children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:""===s||"sort=+name"===s||void 0===s?Object(g.jsxs)("button",{value:"sort=-name",onClick:function(e){return r(e.target.value)},children:["Name ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{value:"sort=+name",onClick:function(e){return r(e.target.value)},children:["Name ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:""===s||"sort=+email"===s||void 0===s?Object(g.jsxs)("button",{value:"sort=-email",onClick:function(e){return r(e.target.value)},children:["Email ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{value:"sort=+email",onClick:function(e){return r(e.target.value)},children:["Email ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:""===s||"sort=+phone"===s||void 0===s?Object(g.jsxs)("button",{value:"sort=-phone",onClick:function(e){return r(e.target.value)},children:["Phone ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{value:"sort=+phone",onClick:function(e){return r(e.target.value)},children:["Phone ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:"District"}),Object(g.jsx)("th",{children:"City"})]}),c.map((function(e){var t,c,a;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:e.phone}),Object(g.jsx)("td",{children:null===(t=e.district)||void 0===t?void 0:t.name}),Object(g.jsx)("td",{children:null===(c=e.district)||void 0===c||null===(a=c.city)||void 0===a?void 0:a.name})]})}))]})})]})};c(73);var et={medicine:"",quantity:0,frequency:""},tt={user_id:"",doctor_id:"",diagnostic:"",prescriptions:[],note:""};for(var ct=function(){var e,t=Object(a.useContext)(y),c=Object(j.a)(t.loading,2),n=c[0],s=c[1],r=Object(j.a)(t.doctorToken,1)[0],i=Object(j.a)(t.doctorAPI.doctorInfo,1)[0],o=Object(j.a)(t.getAllPatientAPI.patients,1)[0],u=Object(j.a)(t.getAllPatientAPI.limit,2),h=u[0],p=u[1],O=Object(j.a)(t.getHealthDeclareForDoctor.healths,1)[0],m=Object(j.a)(t.getHealthDeclareForDoctor.callback,2),f=m[0],x=m[1],v=Object(a.useState)([]),N=Object(j.a)(v,2),k=N[0],C=N[1],D=Object(a.useState)(tt),S=Object(j.a)(D,2),P=S[0],_=S[1],A=Object(a.useState)(et),T=Object(j.a)(A,2),H=T[0],L=T[1],M=Object(w.h)(),B=function(e){var t=e.target,c=t.name,a=t.value;_(Object(F.a)(Object(F.a)({},P),{},Object(I.a)({},c,a)))},z=function(e){var t=e.target,c=t.name,a=t.value;L(Object(F.a)(Object(F.a)({},H),{},Object(I.a)({},c,a)))},W=function(e){if(e.preventDefault(),"Enter"===e.key){var t=H.medicine,c=H.frequency,a=H.quantity;""!==t&&""!==c&&a>0&&q()}},R=function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("http://localhost:3000/medicine");case 3:c=e.sent,C(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(E.a)(e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){_(Object(F.a)(Object(F.a)({},P),{},{prescriptions:[].concat(Object(ne.a)(P.prescriptions),[H])})),L(et)},U=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!M.id){e.next=6;break}return e.next=4,b.a.put("http://localhost:3000/health/update/medicine/".concat(M.id),{medicineform_id:t,status:!0},{headers:{Authorization:r}});case 4:x(!f),Object(E.a)("Prescriptions ID: ".concat(t," has been transferred to Health Declaration ID: ").concat(M.id));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(E.a)(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(!n),e.prev=2,e.next=5,b.a.post("http://localhost:3000/form",Object(F.a)({},P),{headers:{Authorization:r}});case 5:c=e.sent,U(c.data.data._id),Object(E.a)("New prescriptions created"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Object(E.a)(e.t0.response.data.msg);case 13:s(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p(9999999*h),R()}),[]),Object(a.useEffect)((function(){M.id?O.forEach((function(e){e._id==M.id&&_(Object(F.a)(Object(F.a)({},P),{},{user_id:e.user_id._id,doctor_id:i._id}))})):_(Object(F.a)(Object(F.a)({},P),{},{doctor_id:i._id}))}),[M.id]),Object(g.jsx)("div",{className:"dashboardmain-container",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"header",children:"New Prescription"}),Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsxs)("div",{className:"fieldbig",children:[Object(g.jsxs)("label",{htmlFor:"user_id",children:["Patient in ",null===(e=i.district)||void 0===e?void 0:e.name]}),Object(g.jsxs)("select",{id:"user_id",name:"user_id",value:P.user_id,onChange:B,children:[Object(g.jsx)("option",{children:"Select Patient"}),o.filter((function(e){var t,c;return(null===(t=e.district)||void 0===t?void 0:t._id)===(null===(c=i.district)||void 0===c?void 0:c._id)})).map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(g.jsxs)("div",{className:"dashboardtextarea",children:[Object(g.jsx)("label",{htmlFor:"diagnostic",children:"Diagnostic"}),Object(g.jsx)("textarea",{name:"diagnostic",id:"diagnostic",onChange:B})]}),Object(g.jsx)("div",{className:"medicine-container",children:Object(g.jsxs)("div",{className:"medicine-controller",children:[Object(g.jsx)("div",{style:{flexBasis:"30%"},children:Object(g.jsxs)("select",{name:"medicine",value:H.medicine,onChange:z,children:[Object(g.jsx)("option",{children:"Select Medicine"}),k.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(g.jsx)("div",{className:"dashboardinput-container",style:{flexBasis:"10%"},children:Object(g.jsxs)("div",{className:"field",style:{flexBasis:"100%"},children:[Object(g.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),Object(g.jsx)("input",{type:"number",name:"quantity",value:H.quantity,onChange:z,onKeyUp:W})]})}),Object(g.jsx)("div",{className:"dashboardinput-container",style:{flexBasis:"35%"},children:Object(g.jsxs)("div",{className:"field",style:{flexBasis:"100%"},children:[Object(g.jsx)("label",{htmlFor:"frequency",children:"Dosage"}),Object(g.jsx)("input",{type:"text",name:"frequency",value:H.frequency,onChange:z,onKeyUp:W})]})}),Object(g.jsx)("div",{style:{flexBasis:"10%"},children:Object(g.jsx)("button",{className:"button blue",onClick:q,children:"Add Medicine"})})]})}),Object(g.jsx)("div",{className:"medicine-display",children:P.prescriptions.length>0&&P.prescriptions.map((function(e){return Object(g.jsxs)("h2",{children:[k.filter((function(t){return t._id===e.medicine})).map((function(e){return Object(g.jsxs)("span",{style:{flexBasis:"30%"},children:[e.name," - ",e.type]})})),Object(g.jsx)("span",{style:{flexBasis:"8%"},children:e.quantity}),Object(g.jsx)("span",{style:{flexBasis:"43%"},children:e.frequency}),Object(g.jsx)("span",{style:{flexBasis:"10%"}})]})}))}),Object(g.jsxs)("div",{className:"dashboardtextarea",children:[Object(g.jsx)("label",{htmlFor:"note",children:"Notes for patient"}),Object(g.jsx)("textarea",{name:"note",id:"note",onChange:B})]})]}),Object(g.jsx)("button",{id:"savemedicineform",className:"button green",onClick:J,children:"Save"})]})})},at=[{title:"Profile",component:Xe,icon:J,icon_active:V,icon_blue:Y,link:"/profile"},{title:"Patients",component:$e,icon:Fe,icon_active:Ee,icon_blue:Te,link:"/patients"},{title:"Health Declaration",component:function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.getHealthDeclareForDoctor.healths,1)[0],n=Object(j.a)(t.getHealthDeclareForDoctor.filter,2),s=n[0],r=n[1],i=Object(j.a)(t.getHealthDeclareForDoctor.trueOrFalse,2),o=i[0],l=i[1],d=Object(j.a)(t.getHealthDeclareForDoctor.page,2),u=d[0],b=d[1],h=Object(j.a)(t.getHealthDeclareForDoctor.realLength,1)[0],p=Object(a.useState)(""),O=Object(j.a)(p,2),m=O[0],f=O[1],x=Object(a.useState)(""),v=Object(j.a)(x,2),N=v[0],w=v[1],C=Math.ceil(h/5);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"filter-section",children:[Object(g.jsxs)("div",{className:"filter-by-status",children:[Object(g.jsx)("label",{children:"Choose a condition: "}),Object(g.jsx)("select",{className:"filterCondition",name:"filter",id:"filter",value:s,onChange:function(e){b(1),r(e.target.value)},children:["fever","cough","breathing","sorethroat","phlegm","runnynose","tiredness","blocknose","losssmell","musclepain","vaccinated","covid","status"].map((function(e,t){return Object(g.jsx)("option",{value:e,children:e},t)}))})]}),Object(g.jsx)("div",{className:"true-false",children:["true","false"].map((function(e,t){return Object(g.jsxs)("label",{htmlFor:e,children:["true"===e?"prescribed":"unprescribed",Object(g.jsx)("input",{type:"radio",name:"radiovalues",value:e,onChange:function(e){l(e.target.value),b(1)},checked:e===o,id:e})]},t)}))}),Object(g.jsxs)("div",{className:"paginate",children:[Object(g.jsxs)("button",{className:"btn-prev",onClick:function(){u>1&&b((function(e){return e-1}))},children:[" ",Object(g.jsx)("i",{className:"fas fa-chevron-left"})," Prev page "]}),Object(g.jsx)("input",{className:"inputPage",min:"1",max:C,type:"number",value:u,onChange:function(e){return b(e.target.value)}}),Object(g.jsxs)("button",{className:"btn-next",onClick:function(){u>0&&u!==C?b((function(e){return e+1})):Object(E.a)("No more data available, please go back ")},children:[" Next page ",Object(g.jsx)("i",{className:"fas fa-chevron-right"})," "]})]})]}),Object(g.jsx)("div",{className:"healthdeclare-container",children:Object(g.jsxs)("table",{className:"display",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"health declaration ID"}),Object(g.jsx)("th",{children:"patient"}),Object(g.jsx)("th",{children:"covid"}),Object(g.jsx)("th",{children:"vaccinated"}),Object(g.jsx)("th",{children:"status"}),Object(g.jsx)("th",{}),Object(g.jsx)("th",{})]})}),c.map((function(e){var t;return Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{style:{color:"#00A473",cursor:"pointer"},onClick:function(){f(e._id)},children:e._id}),Object(g.jsx)("td",{children:null===(t=e.user_id)||void 0===t?void 0:t.name}),Object(g.jsx)("td",{children:e.covid?"positive":"negative"}),Object(g.jsx)("td",{children:e.vaccinated?"approved":"disapproved"}),Object(g.jsx)("td",{children:e.status?"got medicine":"no medicine"}),Object(g.jsx)("td",{style:{cursor:"pointer",textAlign:"center"},children:Object(g.jsx)("img",{alt:"display",onClick:function(){f(e._id)},className:"hover icon",src:pe})}),Object(g.jsxs)("td",{children:["false"===o&&"status"===s&&Object(g.jsx)(k.b,{className:"button green small",to:"/doctor/prescriptions/medicine/".concat(e._id),children:"Add medicine"}),"true"===o&&Object(g.jsx)("img",{alt:"display",onClick:function(){w(e._id)},className:"hover icon",src:Oe})]}),"true"==o&&Object(g.jsx)("td",{children:Object(g.jsx)(be,{modalDisplay:N,setModalDisplay:w,healthData:e,medicineData:e.medicineform_id},e._id+"medicineDoctor")}),Object(g.jsx)("td",{children:Object(g.jsx)(he,{modalDisplayHealth:m,setModalDisplayHealth:f,healthData:e},e._id)})]})},e._id)}))]})})]})},icon:G,icon_active:K,icon_blue:Q,link:"/health"},{title:"Add Prescriptions",component:ct,icon:Oe,icon_active:He,icon_blue:Le,link:"/prescriptions"},{title:" ",component:ct,link:"/prescriptions/medicine/:id"}],nt=0;nt<at.length;nt++)at[nt].link="/doctor"+at[nt].link;var st=at;function rt(){var e=Object(a.useContext)(y),t=Object(a.useState)(0),c=Object(j.a)(t,2),n=c[0],s=c[1],r=Object(j.a)(e.districtAPI.district,1)[0],i=Object(j.a)(e.getAllDoctorAPI.search,2),o=i[0],u=i[1],h=Object(j.a)(e.getAllDoctorAPI.page,2),p=h[0],O=h[1],m=Object(j.a)(e.getAllDoctorAPI.filter,2),f=m[0],x=m[1],v=Object(j.a)(e.getAllDoctorAPI.limit,2),N=v[0],k=v[1],w=Math.ceil(n/(5*N)),C=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:3000/doctor?limit=999999999");case 2:t=e.sent,s(t.data.data.length);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){C(),k(1)}),[]),Object(g.jsxs)("div",{className:"filter",children:[Object(g.jsxs)("div",{className:"search",children:[Object(g.jsx)("label",{htmlFor:"",onClick:function(){return u("")},children:"Search: "}),Object(g.jsx)("input",{type:"text",value:o,placeholder:"by Name",onChange:function(e){u(e.target.value),O(1),x("")}})]}),Object(g.jsxs)("div",{className:"filterring",children:[Object(g.jsx)("label",{htmlFor:"",onClick:function(){return x("")},children:"Filter: "}),Object(g.jsxs)("select",{className:"filterByDistrict",name:"district",id:"district",value:f,onChange:function(e){x(e.target.value),O(1),u("")},children:[Object(g.jsx)("option",{value:"",children:"by District"}),r.map((function(e){return Object(g.jsx)("option",{value:"district=".concat(e._id),children:e.name})}))]})]}),Object(g.jsxs)("div",{className:"paginate",children:[Object(g.jsxs)("button",{className:"btn-prev",onClick:function(){p>1&&O((function(e){return e-1}))},children:[" ",Object(g.jsx)("i",{className:"fas fa-chevron-left"})," Prev page "]}),Object(g.jsx)("input",{className:"inputPage",min:"1",max:w,type:"number",value:p,onChange:function(e){return O(e.target.value)}}),Object(g.jsxs)("button",{className:"btn-next",onClick:function(){p>0&&p!==w?O((function(e){return e+1})):Object(E.a)("No more data available, please go back ")},children:[" Next page ",Object(g.jsx)("i",{className:"fas fa-chevron-right"})," "]})]})]})}var it=function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.token,1)[0],n=Object(j.a)(t.getAllDoctorAPI.doctors,1)[0],s=Object(j.a)(t.getAllDoctorAPI.sort,2),r=s[0],i=s[1];console.log(r),console.log(c);var o=Object(w.f)(),u=Object(a.useState)({name:"",email:"",password:""}),h=Object(j.a)(u,2),p=h[0],O=h[1],m=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(typeof p.email),t.preventDefault(),!(p.password.length<6)){e.next=5;break}return Object(E.a)("Password must be at least 6 characters ! "),e.abrupt("return",!1);case 5:if(!(p.name.length<1)){e.next=10;break}return Object(E.a)("Please insert the Doctor name "),e.abrupt("return",!1);case 10:return e.prev=10,e.next=13,b.a.post("http://localhost:3000/doctor/register",Object(F.a)({},p),{headers:{Authorization:c}});case 13:x(),Object(E.a)("Doctor ".concat(p.email," has been successfully registered !")),o.push("/admin/doctors"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(10),Object(E.a)(e.t0.response.data.msg),Object(E.a)(e.t0.response.data.msg);case 22:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.target,c=t.name,a=t.value;O(Object(F.a)(Object(F.a)({},p),{},Object(I.a)({},c,a)))},x=function(){};return Object(a.useEffect)((function(){x()}),[]),console.log(n),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{class:"list",children:" Doctor Register"}),Object(g.jsxs)("form",{onSubmit:m,children:[Object(g.jsx)("input",{type:"text",className:"no3",id:"name",name:"name",placeholder:"Name..",value:p.name,onChange:f}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"email",className:"no3",id:"email",name:"email",placeholder:"Email..",value:p.email,onChange:f}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",className:"no3",id:"password",name:"password",placeholder:"Password..",value:p.password,onChange:f}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"submit",value:"Register",className:"button green"})]})]}),Object(g.jsx)("h2",{class:"list",style:{paddingTop:"1rem"},children:" Doctor List"}),Object(g.jsx)(rt,{}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"healthdeclare-container",children:Object(g.jsxs)("table",{style:{width:"100%"},children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:""===r||"sort=+name"===r||void 0===r?Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=-name",onClick:function(e){return i(e.target.value)},children:["Name ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=+name",onClick:function(e){return i(e.target.value)},children:["Name ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:""===r||"sort=+email"===r||void 0===r?Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=-email",onClick:function(e){return i(e.target.value)},children:["Email ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=+email",onClick:function(e){return i(e.target.value)},children:["Email ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:""===r||"sort=+phone"===r||void 0===r?Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=-phone",onClick:function(e){return i(e.target.value)},children:["Phone ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=+phone",onClick:function(e){return i(e.target.value)},children:["Phone ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:"District"})]}),n.map((function(e){var t;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:e.phone}),Object(g.jsx)("td",{children:null===(t=e.district)||void 0===t?void 0:t.name})]})}))]})})})]})};for(var ot=[{title:"Doctors",component:it,icon:c.p+"static/media/doctors.764f4946.svg",icon_active:c.p+"static/media/doctors-active.97b6044c.svg",icon_blue:c.p+"static/media/doctors-blue.dd9ac2d3.svg",link:"/doctors"},{title:"Patients",component:function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.getAllPatientAPI.patients,1)[0],n=Object(j.a)(t.getAllPatientAPI.sort,2),s=n[0],r=n[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{class:"list",children:" Patient List"}),Object(g.jsx)(Ze,{}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"healthdeclare-container",children:Object(g.jsxs)("table",{style:{width:"100%"},children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:""===s||"sort=+name"===s||void 0===s?Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=-name",onClick:function(e){return r(e.target.value)},children:["Name ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=+name",onClick:function(e){return r(e.target.value)},children:["Name ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:""===s||"sort=+email"===s||void 0===s?Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=-email",onClick:function(e){return r(e.target.value)},children:["Email ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=+email",onClick:function(e){return r(e.target.value)},children:["Email ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:""===s||"sort=+phone"===s||void 0===s?Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=-phone",onClick:function(e){return r(e.target.value)},children:["Phone ",Object(g.jsx)("i",{className:"fas fa-arrow-down"})]}):Object(g.jsxs)("button",{style:{background:"transparent",border:"none",outline:"none",color:"#88A7C1",fontWeight:800,fontSize:"16px"},value:"sort=+phone",onClick:function(e){return r(e.target.value)},children:["Phone ",Object(g.jsx)("i",{className:"fas fa-arrow-up"})]})}),Object(g.jsx)("th",{children:"District"}),Object(g.jsx)("th",{children:"City"})]}),c.map((function(e){var t,c,a;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:e.phone}),Object(g.jsx)("td",{children:null===(t=e.district)||void 0===t?void 0:t.name}),Object(g.jsx)("td",{children:null===(c=e.district)||void 0===c||null===(a=c.city)||void 0===a?void 0:a.name})]})}))]})})})]})},icon:Fe,icon_active:Ee,icon_blue:Te,link:"/patients"},{title:"Medicine",component:function(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.token,1)[0],n=Object(w.f)(),s=Object(a.useState)({name:"",type:"",link:""}),r=Object(j.a)(s,2),i=r[0],o=r[1],u=function(e){var t=e.target,c=t.name,a=t.value;o(Object(F.a)(Object(F.a)({},i),{},Object(I.a)({},c,a)))},h=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(i.name.length<1)){e.next=6;break}return alert("Please insert name"),e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,b.a.post("http://localhost:3000/medicine",Object(F.a)({},i),{headers:{Authorization:c}});case 9:Object(E.a)("Medicine name: ".concat(i.name," has been successfully registered !")),n.push("/admin/medicine"),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{class:"list",children:" Add medicine"}),Object(g.jsxs)("form",{onSubmit:h,children:[Object(g.jsx)("input",{type:"text",className:"no3",id:"name",name:"name",placeholder:"Name..",value:i.name,onChange:u}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",className:"no3",id:"type",name:"type",placeholder:"Type..",value:i.type,onChange:u}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"text",className:"no3",id:"link",name:"link",placeholder:"Link..",value:i.link,onChange:u}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{style:{width:"100%"},className:"button green ",onClick:h,children:"Register"})]})]})},icon:Fe,icon_active:Ee,icon_blue:Te,link:"/medicine"}],lt=0;lt<ot.length;lt++)ot[lt].link="/admin"+ot[lt].link;var dt=ot;var jt=function(){var e=Object(w.g)(),t=[];if(e.pathname.startsWith("/patient"))for(var c=0;c<Ie.length;c++)Ie[c].link===e.pathname?t.push(Object(g.jsx)(U,{title:Ie[c].title,icon:Ie[c].icon_active,link:Ie[c].link,active:!0},Ie[c].title)):t.push(Object(g.jsx)(U,{title:Ie[c].title,icon:Ie[c].icon,link:Ie[c].link},Ie[c].title));if(e.pathname.startsWith("/doctor"))for(var a=0;a<st.length;a++)st[a].link===e.pathname?t.push(Object(g.jsx)(U,{title:st[a].title,icon:st[a].icon_active,link:st[a].link,active:!0},st[a].title)):t.push(Object(g.jsx)(U,{title:st[a].title,icon:st[a].icon,link:st[a].link},st[a].title));if(e.pathname.startsWith("/admin"))for(var n=0;n<dt.length;n++)dt[n].link===e.pathname?t.push(Object(g.jsx)(U,{title:dt[n].title,icon:dt[n].icon_active,link:dt[n].link,active:!0},dt[n].title)):t.push(Object(g.jsx)(U,{title:dt[n].title,icon:dt[n].icon,link:dt[n].link},dt[n].title));return Object(g.jsx)("div",{className:"menu-container",children:t})};var ut=function(e){e.active;var t=e.setToggle,c=e.toggle,a=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),window.location.replace("/login-portal");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:c?"sidebar-container active":"sidebar-container",children:[Object(g.jsxs)("div",{className:"item top",children:[Object(g.jsx)("img",{alt:"logo",className:"logo",src:C}),Object(g.jsx)("img",{className:"close",src:S,alt:"menu",onClick:function(){t(!1)}})]}),Object(g.jsx)(jt,{}),Object(g.jsx)("div",{className:"item",children:Object(g.jsx)("h2",{id:"logout",style:{color:"#616161",cursor:"pointer"},onClick:a,children:"Log out"})})]})};var bt=function(e){var t=Object(w.g)(),c="",n="",s=Object(a.useState)(!1),r=Object(j.a)(s,2),i=r[0],o=r[1];if(t.pathname.startsWith("/patient"))for(var l=0;l<Ie.length;l++)Ie[l].link===t.pathname&&(c=Ie[l].title,n=Ie[l].icon_blue);if(t.pathname.startsWith("/doctor"))for(var d=0;d<st.length;d++)st[d].link===t.pathname&&(c=st[d].title,n=st[d].icon_blue);if(t.pathname.startsWith("/admin"))for(var u=0;u<dt.length;u++)dt[u].link===t.pathname&&(c=dt[u].title,n=dt[u].icon_blue);return Object(g.jsx)("div",{style:{width:"100vw"},children:Object(g.jsxs)("div",{className:"dashboard-container",children:[Object(g.jsx)(ut,{toggle:i,setToggle:o}),Object(g.jsx)("div",{className:"spacer"}),Object(g.jsxs)("div",{className:"main-container",children:[Object(g.jsxs)("div",{className:"heading-container",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{className:"heading-icon",src:n,alt:"headingicon"}),Object(g.jsx)("h1",{children:c})]}),Object(g.jsx)("img",{className:"menu",src:D,alt:"menu",onClick:function(){o(!0)}})]}),e.children]})]})})};var ht=function(){for(var e=[],t=0;t<Ie.length;t++)e.push(Object(g.jsx)(w.a,{path:Ie[t].link,exact:!0,component:Ie[t].component},Ie[t].title));return Object(g.jsx)(w.a,{render:function(t){return Object(g.jsx)(bt,Object(F.a)(Object(F.a)({},t),{},{children:Object(g.jsx)(w.c,{children:e})}))}})};function pt(e){var t=Object(a.useContext)(y),c=Object(j.a)(t.doctorAPI.doctorInfo,1)[0],n=Object(j.a)(t.doctorAPI.doctor,1)[0],s=Object(a.useState)([]),r=Object(j.a)(s,2),i=r[0],o=r[1],u=Object(a.useState)(!1),h=Object(j.a)(u,2),p=h[0],O=h[1],m=Object(a.useState)(!1),f=Object(j.a)(m,2),x=f[0],v=f[1],N=Object(j.a)(t.loading,2),k=N[0],w=N[1],C=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!k),e.next=3,b.a.get("".concat("http://localhost:3000","/doctor?limit=99"));case 3:t=e.sent,o(t.data.data),w(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){C()}),[]),console.log(p),Object(g.jsx)(g.Fragment,{children:n&&Object(g.jsx)(le,{roomId:c._id,doctors:i,isWho:"isDoctor",setRoomId:O,pop:x,setPop:v})})}var Ot=function(){var e=[];if(st&&st.length>0)for(var t=0;t<st.length;t++)e.push(Object(g.jsx)(w.a,{path:st[t].link,exact:!0,component:st[t].component},st[t].icon));return Object(g.jsx)(w.a,{render:function(t){return Object(g.jsxs)(bt,Object(F.a)(Object(F.a)({},t),{},{children:[Object(g.jsx)(pt,{}),Object(g.jsx)(w.c,{children:e})]}))}})};var mt=function(){for(var e=[],t=0;t<dt.length;t++)e.push(Object(g.jsx)(w.a,{path:dt[t].link,exact:!0,component:dt[t].component},dt[t].icon));return Object(g.jsx)(w.a,{render:function(t){return Object(g.jsx)(bt,Object(F.a)(Object(F.a)({},t),{},{children:Object(g.jsx)(w.c,{children:e})}))}})};function ft(){return Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(g.jsx)(P,{}),Object(g.jsxs)("div",{className:"login-portal",children:[Object(g.jsx)(k.b,{to:"/login-doctor",className:"button green",children:"Login as Doctor"}),Object(g.jsx)(k.b,{to:"/login-patient",className:"button green",children:"Login as Patient"})]})]})}function xt(){var e=Object(a.useContext)(y),t=Object(j.a)(e.loading,2),c=t[0],n=t[1],s=Object(a.useState)({email:"",password:""}),r=Object(j.a)(s,2),i=r[0],o=r[1],u=function(e){var t=e.target,c=t.name,a=t.value;o(Object(F.a)(Object(F.a)({},i),{},Object(I.a)({},c,a)))},h=function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:3000/user/info",{headers:{Authorization:t}});case 2:return a=e.sent,n(!c),e.abrupt("return",1===a.data.role?window.location.replace("/admin/patients"):window.location.replace("/patient/profile"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n(!c),e.next=5,b.a.post("http://localhost:3000/user/login",Object(F.a)({},i),{withCredentials:"include"});case 5:a=e.sent,h(a.data.accessToken),localStorage.setItem("isLogin",!0),Object(E.a)("User ".concat(i.email," has been successfully login !")),n(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),n(!1),console.log(e.t0.response.data.msg),Object(E.a)(e.t0.response.data.msg);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(g.jsx)(P,{}),Object(g.jsxs)("div",{className:"login-container",children:[Object(g.jsx)("h1",{className:"asdas",children:"Login as a patient account"}),Object(g.jsx)("div",{className:"divider"}),Object(g.jsx)("div",{className:"login-form",children:Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsx)("input",{className:"editable",type:"email",id:"email",name:"email",value:i.email,onChange:u,placeholder:"Email.."}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{className:"editable",type:"text",id:"password",name:"password",value:i.password,onChange:u,placeholder:"Password.."}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{id:"patientlogin",className:"button blue",onClick:p,children:"Login"})]})})]})]})}function vt(){var e=Object(a.useContext)(y),t=Object(j.a)(e.loading,2),c=t[0],n=t[1],s=Object(a.useState)({email:"",password:""}),r=Object(j.a)(s,2),i=r[0],o=r[1],u=function(e){var t=e.target,c=t.name,a=t.value;o(Object(F.a)(Object(F.a)({},i),{},Object(I.a)({},c,a)))},h=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n(!c),e.next=5,b.a.post("http://localhost:3000/doctor/login",Object(F.a)({},i),{withCredentials:"include"});case 5:localStorage.setItem("isDoctorLogin",!0),Object(E.a)("Doctor ".concat(i.email," has been successfully login !")),n(!1),window.location.replace("/doctor/profile"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),n(!1),Object(E.a)(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(g.jsx)(P,{}),Object(g.jsxs)("div",{className:"login-container",children:[Object(g.jsx)("h1",{className:"asdas",children:"Login as a doctor account"}),Object(g.jsx)("div",{className:"divider"}),Object(g.jsx)("div",{className:"login-form",children:Object(g.jsxs)("div",{className:"dashboardinput-container",children:[Object(g.jsx)("input",{className:"editable",type:"email",id:"email",name:"email",value:i.email,onChange:u,placeholder:"Email.."}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{className:"editable",type:"text",id:"password",name:"password",value:i.password,onChange:u,placeholder:"Password.."}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{id:"doctorlogin",className:"button blue",onClick:h,children:"Login"})]})})]})]})}E.a.configure();var gt=function(){return Object(g.jsx)("div",{children:"Not Found"})};c(141);function yt(e){return Object(g.jsx)("div",{className:"loading-page",children:Object(g.jsxs)("div",{class:"loading",children:[Object(g.jsx)("div",{class:"loading__square"}),Object(g.jsx)("div",{class:"loading__square"}),Object(g.jsx)("div",{class:"loading__square"}),Object(g.jsx)("div",{class:"loading__square"}),Object(g.jsx)("div",{class:"loading__square"}),Object(g.jsx)("div",{class:"loading__square"}),Object(g.jsx)("div",{class:"loading__square"})]})})}var Nt=function(){var e=Object(a.useContext)(y),t=Object(j.a)(e.loading,1)[0],c=Object(j.a)(e.patientAPI.admin,1)[0],n=Object(j.a)(e.patientAPI.patient,1)[0],s=Object(j.a)(e.doctorAPI.doctor,1)[0];return Object(g.jsx)(k.a,{children:Object(g.jsxs)("div",{children:[t&&Object(g.jsx)(yt,{}),Object(g.jsxs)(w.c,{children:[Object(g.jsx)(w.a,{exact:!0,path:"/",children:Object(g.jsx)(A,{})}),Object(g.jsx)(w.a,{path:"/register",children:Object(g.jsx)(T,{})}),Object(g.jsx)(w.a,{path:"/login-portal",children:Object(g.jsx)(ft,{})}),Object(g.jsx)(w.a,{path:"/login-patient",children:Object(g.jsx)(xt,{})}),Object(g.jsx)(w.a,{path:"/login-doctor",children:Object(g.jsx)(vt,{})}),Object(g.jsx)(w.a,{path:"/patient",children:n?Object(g.jsx)(ht,{}):Object(g.jsx)(gt,{})}),Object(g.jsx)(w.a,{path:"/doctor",children:s?Object(g.jsx)(Ot,{}):Object(g.jsx)(gt,{})}),Object(g.jsx)(w.a,{path:"/admin",children:c?Object(g.jsx)(mt,{}):Object(g.jsx)(gt,{})})]})]})})};E.a.configure();var kt=function(){return Object(g.jsx)(N,{children:Object(g.jsx)(Nt,{})})};c(142);r.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(kt,{})}),document.getElementById("root")),i()},48:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){}},[[143,1,2]]]);
//# sourceMappingURL=main.5231bccc.chunk.js.map